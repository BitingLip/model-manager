# Worker Environment Configuration

# Redis Configuration
REDIS_URL=redis://localhost:6379/0

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# GPU Configuration
GPU_INDEX=4
DIRECTML_DEVICE_INDEX=4
GPU_MEMORY_FRACTION=0.9

# Model Configuration
MODEL_CACHE_DIR=./models
MAX_MODEL_CACHE_SIZE_GB=50.0
MODEL_LOAD_TIMEOUT=300

# Task Configuration
MAX_CONCURRENT_TASKS=1
TASK_TIMEOUT=300
TASK_SOFT_TIME_LIMIT=270

# Performance Configuration
INFERENCE_BATCH_SIZE=1
TORCH_DTYPE=float16
ATTENTION_IMPLEMENTATION=sdpa

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
WORKER_ID=worker-gpu4-15600

# DirectML Configuration
DIRECTML_DEBUG=false
DIRECTML_ENABLE_GRAPH_CAPTURE=true
DIRECTML_ENABLE_METACOMMANDS=true

# Model-specific settings
LLM_MAX_LENGTH=2048
TTS_SAMPLE_RATE=22050
TTS_AUDIO_FORMAT=wav
SD_IMAGE_SIZE=512
SD_NUM_INFERENCE_STEPS=20
SD_GUIDANCE_SCALE=7.5

# Health monitoring
HEALTH_CHECK_INTERVAL=30
MEMORY_WARNING_THRESHOLD=0.85
TEMPERATURE_WARNING_THRESHOLD=80.0
